let areaChartLabels=[],areaChartValues=[],confirmedChartValues=[],diedChartValues=[],recoveredChartValues=[],activeChartValues=[],affected=0;fetch("https://planetvitals-backend-py.iinerds.com/").then(e=>e.json()).then(e=>{regions=e.data,regions&&regions.length&&regions.forEach(e=>{areaChartLabels.push(e.country),confirmedChartValues.push(parseFloat(e.confirmed)),diedChartValues.push(parseFloat(e.deaths)),recoveredChartValues.push(parseFloat(e.recovered));let t=e.confirmed-e.deaths-e.recovered;activeChartValues.push(parseFloat(t)),affected+=1,document.getElementById("tb-content-1").innerHTML+=0==t?'<tr class="table-info"><td><a href="https://planetvitals.com/country.html?country='+e.country+'">'+e.country+"</a></td><td>"+e.confirmed+"</td><td>"+e.change_confirmed+'</td><td style="color:darkred;">'+e.deaths+'</td><td style="color:darkred;">'+e.change_deaths+'</td><td style="color:red;">'+e.serious_cases+'</td><td style="color:orange;">'+t+'</td><td style="color:green;">'+e.recovered+"</td><td>"+e.totalcases_pp+"</td><td>"+e.deaths_pp+"</td></tr>":'<tr><td><a href="https://planetvitals.com/country.html?country='+e.country+'">'+e.country+"</a></td><td>"+e.confirmed+"</td><td>"+e.change_confirmed+'</td><td style="color:darkred;">'+e.deaths+'</td><td style="color:darkred;">'+e.change_deaths+'</td><td style="color:red;">'+e.serious_cases+'</td><td style="color:orange;">'+t+'</td><td style="color:green;">'+e.recovered+"</td><td>"+e.totalcases_pp+"</td><td>"+e.deaths_pp+"</td></tr>"}),affected-=1,drawAreaChart(areaChartLabels.slice(0,10),confirmedChartValues.slice(0,10),diedChartValues.slice(0,10),recoveredChartValues.slice(0,10),activeChartValues.slice(0,10)),document.getElementById("count-country").innerHTML+=affected+" countries and territories",$(document).ready(function(){$("#country-table-1").DataTable({order:[[1,"desc"]]})})}).catch(e=>{});